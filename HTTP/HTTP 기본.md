### HTTP (HyperText Transfer Protocol)

- HTML, TEXT, 이미지, 음성, 영상 JSON 등 모든 형태의 데이터 전송 가능
- HTTP 역사
    - HTTP/1.1 : 1997년에 만들어짐 가장 많이 사용
- 기반 프로토콜
    - TCP : HTTP/1.1 HTTP/2
    - UDP : HTTP/3 (TCP 핸드쉐이크에 사용되는 속도를 줄이기 위해 UDP를 사용)
    - 현재 HTTP/1.1 주로 사용
        - HTTP/2 HTTP/3도 점점 증가
- HTTP 특징
    - 클라이언트 서버 구조
    - 무상태 프로토콜(스테이스리스), 비연결성
    - HTTP 메시지
    - 단순함, 확장 가능

### 클라이언트와 서버 구조

- Request Response 구조
- 클라이언트는 서버에 요청을 보내고 응답을 대기
- 서버가 요청에 대한 결과를 만들어서 응답
- 클라이언트는 UI, 서버는 비지니스로직 및 데이터를 생성하는데 집중

### 무상태 프로토콜 (Stateless)

- Stateful(상태 유지)
    - 서버가 클라이언트의 이전 상태를 보존
    - 중간에 응답 서버가 다른 서버로 변경되면 안됨(항상 같은 서버가 유지 되어야함)
- Stateless(무상태)
    - 클라이언트가 이전 상태를 계속 서버에게 전달
    - 중간에 응답 서버가 변경되어도 정상적으로 응답이됨 → 무한한 서버 증설 가능
- Stateless 한계
    - 모든 것을 무상태로 설계 할 수 있는 경우도 있고 없는 경우도 있음
    - 로그인한 사용자의 경우 로그인 했다는 상태를 유지해야함
    - 그렇기 위해서 브라우저의 쿠키와 세션을 사용
    - 상태가 유지되지 않기 때문에 서버로 전송되는 데이터가 많아짐

### 비연결성

- 서버와 클라이언트가 지속적으로 연결이 유지되어 있으면 서로 응답을 하지 않는 상태에서도 지속적으로 연결이 되어 있어야 한다 → 즉 서버를 유지하는 자원이 계속 사용되고 있음
- 비연결성을 사용하게 되면 서버와 클라이언트가 통신할 때만 유지하고 요청이 끝나면 해당 연결도 끊는다 → 서버를 유지하는 자원을 최소한으로 줄일 수 있음
- 특징
    - HTTP 기본 연결을 유지하지 않는 모델
    - 일반적으로 초 단위 이하의 빠른 속도로 응답 가능
    - 1시간 동안 수천명이 서비스를 사용해도 실제 서버에서 동시에 처리하는 요청은 수십개 이하로 적음
    - 서버 자원을 매우 효율적으로 사용 가능
- 한계
    - TCP/IP 연결을 새로 맺어야함 (3 way handshake 시간 추가)
    - 웹 브라우저로 사이트를 요청하면 HTML, JS, CSS 이미지 등 수많은 자원이 계속 함께 다운로드 됨
- HTTP 지속 연결
    - 비연결성의 한계를 극복하기 위해 지속 연결을 사용
    - HTTP/2, HTTP/3에서 더 많은 최적화
    
   ![Untitled](https://github.com/juhwan-Ki/TIL/assets/87765888/60072897-39bd-42f1-bba4-ffb8d21317fd)

   ![Untitled (1)](https://github.com/juhwan-Ki/TIL/assets/87765888/ac8c5b2b-63d1-43e3-a07e-831d8c3c79c7)
    

### HTTP 메세지

- HTTP 메시지 구조

![Untitled (2)](https://github.com/juhwan-Ki/TIL/assets/87765888/1bdba603-9447-4156-bd9e-bd3d0f16e02c)

- 시작 라인(request-line)
    - 요청 메세지 → HTTP 메소드, 요청대상, HTTP 버전
    - 응답 메세지 → HTTP 버전, HTTP 상태코드, 이유 문구
- HTTP 헤더
    - hearder-field = field-name”:” OWS field-value OWS (OWS→ 띄어쓰기 허용)
    - field-name은 대소문자 구문 없음
    
   ![Untitled (3)](https://github.com/juhwan-Ki/TIL/assets/87765888/f9f9915d-b6c1-4700-a4c9-3bbc8f970d58)
    
    - 용도
        - HTTP 전송에 필요한 모든 부가정보
            - 메시지 바디의 내용, 브라우저 정보, 압축, 인증, 캐시 정보 등등
        - 필요시 임의의 헤더 추가 가능
- HTTP 메시지 바디
    - 실제 전송할 데이터
    - HTML 문서, 이미지, 영상, JSON 등등 byte로 표현할 수 있는 모든 데이터 전송 가능