### 중첩 클래스란?

중첩 클래스란 클래스 내부의 또 다른 클래스가 있는 것을 의마하며 보통 두 클래스가 서로 긴밀한 관계에 있거나 하나의 클래스 또는 메소드에만 사용될 때 이용되는 기법이다

중첩 클래스는 4가지가 있고 크게 2가지로 분류 할 수 있다

- 스태틱 클래스(static class)
    - static 변수와 같은 위치에서 선언되며 외부 클래스의 인스턴스에 소속되지 않음
    - 외부 클래스와 별로도 인스턴스 생성이 가능
- 인스턴스 클래스(instance class)
    - static이 붙지 않으며 외부 클래스의 인스턴스에 소속됨
    - 주로 외부 클래스의 멤버 변수와 연관된 작업에 사용될 목적으로 선언됨
- 지역 클래스(local class)
    - 내부 클래스의 특징 + 지역 변수에 접근할 수 있음
    - 선언된 메소드 영역에서만 사용 가능
- 익명 클래스(anonymous class)
    - 지역 클래스의 특징 + 클래스의 이름이 없는 특별한 클래스
    - 주로 일회용으로 사용되는 클래스

### **중첩 클래스는 언제 사용해야 하나?**

내부 클래스를 포함한 모든 중첩 클래스는 특정 클래스가 다른 하나의 클래스 안에서만 사용되거나, 둘이 아주 긴 밀하게 연결되어 있는 특별한 경우에만 사용해야 한다 

외부의 여러 클래스가 특정 중첩 클래스를 사용한다면 중첩 클래스로 만들면 안된다

### **중첩 클래스를 사용하는 이유**

논리적 그룹화: 특정 클래스가 다른 하나의 클래스 안에서만 사용되는 경우 해당 클래스 안에 포함하는 것이 논리적으로 더 그룹화 된다 패키지를 열었을 때 다른 곳에서 사용될 필요가 없는 중첩 클래스가 외부에 노출되지 않는장점도 있다

캡슐화: 중첩 클래스는 바깥 클래스의 `private` 멤버에 접근할 수 있다 이렇게 해서 둘을 긴밀하게 연결하고 불필요한 `public` 메서드를 제거할 수 있다 

가독성이 좋고 유지 관리가 좋은 코드 : 클래스를 외부에 작성하는 경우보다 물리적으로 논리적으로 외부 클래스보다 가까이 위치하여 시각적으로 읽기 편해질 뿐만 아니라 유지보수의 이점이 있게 된다

### 인스턴스 클래스

- 클래스의 멤버 변수 선언부에 위치하고 static 키워드가 없는 내부 클래스
- 외부 클래스의 멤버로 취급되기 때문에 외부 클래스의 객체 먼저 생성한 후 내부 클래스의 객체를 생성이 가능하다
- 인스턴스 클래스 내부에는 instance 멤버만 선언할 수 있다 (static 멤버는 선언 불가)
- 주로 외부 클래스의 인스턴스 멤버들과 관련된 작업에 사용될 목적으로 선언된다

외부 클래스의 인스턴스가 생성되면 외부 클래스의 코드가 메모리에 올라가게 되고 이때 인스턴스 클래스의 코드도 메모리에 올라가게 된다 그 후 인스턴스 클래스의 인스턴스를 생성할 수 있다
하지만 인스턴스 클래스는 외부 클래스의 내부에서 사용하는 목적으로 만들어졌기 때문에 따로 인스턴스를 생성하는 경우는 드물다

### 스태틱 클래스

- static 키워드가 붙은 내부 클래스
- 단, 일반적인 static 필드 변수나 static 메서드와 똑같이 생각하면 안된다
- static 클래스 내부에는 instance 멤버와 static 멤버 모두 선언 할 수 있다
- 그러나 일반적인 static 메서드와 동일하게 외부 클래스의 인스턴스 멤버에는 접근이 불가하고, 정적(static) 멤버에만 접근할 수 있다

스태틱 클래스는 static 이라고 해서 메모리에 한번만 로드되는 객체 개념이 아닌 것이다 즉, 내부 인스턴스 클래스 처럼 외부 인스턴스를 먼저 선언하고 초기화해야 하는 선수 작업 필요 없이, 내부 클래스의 인스턴스를 바로 생성할 수 있다는 차이점이 존재 할 뿐이다

만일 내부 클래스를 이용하는데, 내부 클래스에서 바깥 외부의 인스턴스를 사용할 일이 없다면 static 클래스로 선언해주어야 한다

왜냐하면 static이 아닌 내부 인스턴스 클래스는 외부와 연결이 되어 있어 '외부 참조'를 갖게되어 메모리를 더 먹고, 느리며, 또한 GC 대상에서 제외되는 여러 문제점을 일으키기 때문이다

inner 클래스를 선언할때 static 키워드를 붙여주지 않으면 '외부 참조' 현상 때문에, 내부 클래스 인스턴스를 생성하기 위해 우선적으로 만들었던 외부 클래스 인스턴스가 정상적으로 GC 수거가 안되 메모리에 잔존하게 되어 문제점을 일으키게 된다
따라서 내부 클래스가 외부 클래스의 멤버를 가져와 사용하는 경우가 아닌 경우 반드시 내부 클래스를 선언 할 때는 static 키워드를 붙여주어야 한다

### 로컬 클래스

- 메소드 내부에 위치하는 클래스 (지역 변수와 같은 성질을 지님)
- 지역 변수처럼 해당 메서드 내부에서만 한정적으로 사용된다 (해당 메소드 실행 외에는 클래스 접근 및 사용 불가)
- 접근제한자와 static을 붙일 수 없다 메소드 내부에서만 사용되므로 접근을 제한할 필요가 없고, 원래 메소드 내에는 static 멤버를 선언할 수 없기 때문이다
- 메소드 내에서 잠시 사용하는 지역 변수 개념과 같이 지역 클래스 자료형을 사용하고 버리는 것으로 이해하면 된다
- 로컬 클래스에서 지역 변수에 접근해서 사용하려고 할 때 반드시 final 상수화 된 지역 변수만 사용이 가능하다

### 익명 클래스
- 익명 클래스는 클래스 이름이 존재하지 않는 이너 클래스다
- 단 하나의 객체만을 생성하는 일회용 클래스로 클래스의 선언과 동시에 객체를 생성하며 익명 클래스는 생성자가 존재하지 않는다
- 익명 클래스는 기존에 존재하는 클래스를 메서드 내에서 일회용으로 클래스 내부 구성을 선언하여 필요한 메서드를 재정의 하여 사용하는 기법이다

출처: https://inpa.tistory.com/entry/JAVA-☕-내부-클래스Inner-Class-장점-종류 [Inpa Dev 👨‍💻:티스토리]
출처: https://www.inflearn.com/course/%EA%B9%80%EC%98%81%ED%95%9C%EC%9D%98-%EC%8B%A4%EC%A0%84-%EC%9E%90%EB%B0%94-%EC%A4%91%EA%B8%89-1?inst=774e6530&utm_source=instructor&utm_medium=referral&utm_campaign=inflearn_%ED%8A%B8%EB%9E%98%ED%94%BD_promotion-link
