### ë„ë©”ì¸ ì „ìš© ì–¸ì–´

DSLì€ ë²”ìš©ì´ì•„ë‹ˆë¼ íŠ¹ì • ë„ë©”ì¸ì„ ëŒ€ìƒìœ¼ë¡œ ë§Œë“¤ì–´ì§„ íŠ¹ìˆ˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ íŠ¹ì • ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸°ìœ„í•´ ë§Œë“  ì–¸ì–´ë‹¤ ìë°”ì—ì„œëŠ” ë„ë©”ì¸ì„ í‘œí˜„í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ì™€ ë©”ì„œë“œ ì§‘í•©ì´ í•„ìš”í•˜ë‹¤ ì¦‰ DSLì´ë€ íŠ¹ì • ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“  APIë¼ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤

<aside>
ğŸ’¡ SQL â†’ DBë¥¼ ì¡°íšŒí•  ë•Œë§Œ ì‚¬ìš© SQLë¡œ ì›¹ í”„ë¡œê·¸ë˜ë°ì€ ë¶ˆê°€ëŠ¥! ì´ëŸ°ê²Œ DSL

</aside>

DSLì€ ë²”ìš© í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— íŠ¹ì • ë„ë©”ì¸ì— êµ­í•œë˜ì–´ ì§„ë‹¤ DSLì„ ì´ìš©í•˜ë©´ ì‚¬ìš©ìê°€ íŠ¹ì • ë„ë©”ì¸ì˜ ë³µì¡ì„±ì„ ë” ì˜ ë‹¤ë£° ìˆ˜ ìˆë‹¤ ì‚¬ìš©ì ì¹œí™”ì ì¸ DSLì„ ê°œë°œí•˜ê¸° ìœ„í•´ ìƒê°í•´ì•¼í•  ê²ƒë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤

1. ì˜ì‚¬ ì†Œí†µ : ì½”ë“œì˜ ì˜ë„ê°€ ëª…í™•íˆ ì „ë‹¬ë˜ì–´ì•¼ í•˜ë©° í”„ë¡œê·¸ë˜ë¨¸ê°€ ì•„ë‹Œ ì‚¬ëŒë„ ì´í•´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ì½”ë“œê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì— ë¶€í•©í•˜ëŠ”ì§€ í™•ì¸ í•  ìˆ˜ ìˆë‹¤
2. ê°€ë…ì„± : ê°€ë…ì„±ì€ ìœ ì§€ë³´ìˆ˜ì˜ í•µì‹¬ì´ê¸°ì— í•­ìƒ ë‹¤ë¥¸ ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ êµ¬í˜„í•´ì•¼í•œë‹¤

### DSLì˜ ì¥ë‹¨ì 

- DSLì˜ ì¥ì 
    1. ê°„ê²°í•¨ : APIëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê°„í¸í•˜ê²Œ ìº¡ìŠí™”í•˜ë¯€ë¡œ ë°˜ë³µì„ í”¼í•  ìˆ˜ ìˆê³  ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤
    2. ê°€ë…ì„± : ë„ë©”ì¸ ì˜ì—­ì˜ ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ë¹„ ë„ë©”ì¸ ì „ë¬¸ê°€ë„ ì½”ë“œë¥¼ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤
    3. ìœ ì§€ë³´ìˆ˜ : ì˜ ì„¤ê³„ëœ DSLë¡œ êµ¬í˜„í•œ ì½”ë“œëŠ” ì‰½ê²Œ ìœ ì§€ë³´ìˆ˜í•˜ê³  ë°”ê¿€ ìˆ˜ ìˆë‹¤
    4. ë†’ì€ ìˆ˜ì¤€ì˜ ì¶”ìƒí™” : DSLì€ ë„ë©”ì¸ê³¼ ê°™ì€ ì¶”ìƒí™” ìˆ˜ì¤€ì—ì„œ ë™ì‘í•˜ë¯€ë¡œ ë„ë©”ì¸ì˜ ë¬¸ì œì™€ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ë˜ì§€ ì•Šì€ ì„¸ë¶€ ì‚¬í•­ì„ ìˆ¨ê¸´ë‹¤
    5. ì§‘ì¤‘ : ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ì˜ ê·œì¹™ì„ í‘œí˜„í•  ëª©ì ìœ¼ë¡œ ì„¤ê³„ëœ ì–¸ì–´ì´ë¯€ë¡œ í”„ë¡œê·¸ë˜ë¨¸ê°€ íŠ¹ì • ì½”ë“œì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤
    6. ê´€ì‹¬ì‚¬ ë¶„ë¦¬ : ì§€ì •ëœ ì–¸ì–´ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í‘œí˜„í•¨ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¸í”„ë¼êµ¬ì¡°ì™€ ê´€ê´€ë ¨ëœ ë¬¸ì œì™€ ë…ë¦½ì ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ë ¨ëœ ì½”ë“œì— ì§‘ì¤‘í•˜ê¸°ê°€ ìš©ì´í•´ ê²°ê³¼ì ìœ¼ë¡œ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ ì½”ë“œë¥¼ êµ¬í˜„í•œë‹¤
- DSLì˜ ë‹¨ì 
    1. DSL ì„¤ê³„ì˜ ì–´ë ¤ì›€ : ê°„ê²°í•˜ê²Œ ì œí•œì ì¸ ì–¸ì–´ì— ë„ë©”ì¸ ì§€ì‹ì„ ë‹´ê¸°ê°€ ì–´ë µë‹¤
    2. ê°œë°œ ë¹„ìš© : ì½”ë“œì— DSLì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì€ ì´ˆê¸° í”„ë¡œì íŠ¸ì— ë§ì€ ì‹œê°„ê³¼ ë¹„ìš©ì´ ì†Œëª¨ëœë‹¤
    3. ì¶”ê°€ ìš°íšŒ ê³„ì¸µ :  DSLì€ ì¶”ê°€ì ì¸ ê³„ì¸µìœ¼ë¡œ ë„ë©”ì¸ ëª¨ë¸ì„ ê°ì‹¸ë©° ì´ ë•Œ ê³„ì¸µì„ ìµœëŒ€í•œ ì‘ê²Œ ë§Œë“¤ì–´ ì„±ëŠ¥ ë¬¸ì œë¥¼ íšŒí”¼í•œë‹¤
    4. ìƒˆë¡œ ë°°ì›Œì•¼ í•˜ëŠ” ì–¸ì–´ : ìš”ì¦˜ì—ëŠ” í•œ í”„ë¡œì íŠ¸ì—ë„ ì—¬ëŸ¬ê°€ì§€ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¶”ì„¸ì´ë¯€ë¡œ ìƒˆë¡œ ë°°ì›Œì•¼í•˜ëŠ” ì–¸ì–´ê°€ ì¶”ê°€ë  ìˆ˜ ìˆë‹¤
    5. **í˜¸ìŠ¤íŒ… ì–¸ì–´ í•œê³„ :**ì¼ë¶€ ìë°” ê°™ì€ ë²”ìš© í”„ë¡œê·¸ë˜ë° ì–¸ì–´ëŠ” ì¥í™©í•˜ê³  ì—„ê²©í•œ ë¬¸ë²•ì„ ê°€ì¡Œë‹¤ ì´ëŸ° ì–¸ì–´ë¡œëŠ” ì‚¬ìš©ì ì¹œí™”ì  DSLì„ ë§Œë“¤ê¸° í˜ë“¤ë‹¤ ì‚¬ì‹¤ ì¥í™©í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“  DSLì€ ì„±ê°€ì§„ ë¬¸ë²•ì˜ ì œì•½ì„ ë°›ê³  ì½ê¸°ê°€ ì–´ë ¤ì›Œì§„ë‹¤ Java8ì˜ ëŒë‹¤ í‘œí˜„ì‹ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ê°•ë ¥í•œ ìƒˆ ë„êµ¬ë‹¤

### JVMì—ì„œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ DSL í•´ê²°ì±…

- **ë‚´ë¶€ DSL**
    
    ìš°ë¦° ìë°”ë¥¼ ë°°ìš°ê³  ìˆë‹¤ ê·¸ë˜ì„œ ë‚´ë¶€ DSLì€ ìë°”ë¥¼ ì´ìš©í•˜ì—¬ ë§Œë“  DSLì„ ì˜ë¯¸í•œë‹¤ ê·¸ëŸ¼ ìë°”ë¡œ ë§Œë“  DSLì€ ì–´ë–¤ ê²ƒì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì¼ê¹Œ? 
    
    ```java
    List<Integer> list = Arrays.asList(1,2,3,4,5);
    **list.forEach**(new Consumer<Integer>() {
        @Override
        public void **accept**(Integer integer) {
            **System.out.println(integer);**
        }
    });
    
    /*
    	ìœ„ì˜ ì½”ë“œì—ì„œ ì¤‘ìš”í•œ ê²ƒì€ ë°‘ì¤„ì´ë‹¤. ë°‘ì¤„ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì½”ë“œëŠ” ì˜ë¯¸ìƒ í•„ìš”í•˜ì§€ ì•Šë‹¤. ê·¸ëŸ¼ ì˜ë¯¸ë§Œ ë‚¨ê¸°ëŠ”
    	ì½”ë“œë¡œ ê³ ì³ë³´ì
    	ìœ„ì˜ ì½”ë“œë¥¼ ë§ë¡œ í•´ì„í•´ë³´ì
    	1. listë¼ëŠ” ë°°ì—´ì„ ì‚¬ìš©í•œë‹¤.
    	2. listì˜ ìš”ì†Œë¥¼ forEachë¥¼ ì´ìš©í•˜ì—¬ ìˆœì°¨ì ìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤.
    	3. forEachì—ì„œëŠ” consumerì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ acceptë¥¼ ì¬ì •ì˜í•œë‹¤.
    	4. acceptëŠ” Integer íƒ€ì…ì˜ integerì„ ë°›ì•„ system.out.printlnì„ ì´ìš©í•˜ì—¬ integer(ë³€ìˆ˜ëª…)ì„ ì¶œë ¥í•œë‹¤.
    	í•„ìš”í•œ ìš”ì†Œë§Œ ë°‘ì¤„ì´ ì¡´ì¬í•œë‹¤. ë‚˜ë¨¸ì§€ëŠ” ì½”ë“œì˜ ì¡ìŒì´ ë˜ëŠ” ê²ƒì´ë‹¤.
    */
    
    list.forEach(System.out :: println);
    /*
    	ì´ì   ë°‘ì¤„ ì¹œ ë¶€ë¶„ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì½”ë“œì˜ ì¡ìŒì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜ë¯¸ì ìœ¼ë¡œë„ ì˜ ì „ë‹¬ ë  ìˆ˜ ìˆë‹¤.
    	ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ì‹œ ë§ë¡œ í•´ì„í•´ë³´ì
    	1. listë¥¼ ë°°ì—´ì„ ì‚¬ìš©í•œë‹¤.
    	2. forEachë¥¼ ì´ìš©í•´ ë°°ì—´ ìš”ì†Œë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤.
    	3. System.out.printlnì„ ì´ìš©í•˜ì—¬ ìš”ì†Œë¥¼ ì¶œë ¥í•œë‹¤.
    	ì¡ìŒì´ ìƒë‹¹íˆ ì¤„ì—ˆë‹¤.
    */
    ```
    
    ìˆœìˆ˜ ìë°”ë¥¼ ì´ìš©í•˜ì—¬ DSLì„ êµ¬í˜„í•¨ìœ¼ë¡œ ì–»ëŠ” ì¥ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
    
    - ë‚´ë¶€ë¡œ ì‘ì„±ë˜ê¸° ë•Œë¬¸ì— ë…¸ë ¥ì´ ì¤„ì–´ë“ ë‹¤. ì¦‰, ìƒˆë¡œìš´ íŒ¨í„´ê³¼ ê¸°ìˆ ì„ ë°°ì›Œ DSLì„ êµ¬í˜„í•˜ëŠ” ë…¸ë ¥ì´ ì¤„ì–´ë“ ë‹¤. (ë‹¹ì—°íˆ ë‚´ë¶€ì˜ ìë°” ì½”ë“œë¡œë§Œ êµ¬í˜„í•˜ê¸° ë•Œë¬¸ì—)
    - ë‹¤ë¥¸ ì–¸ì–´ì˜ ì»´íŒŒì¼ëŸ¬ë¥¼ ì´ìš©í•˜ê±°ë‚˜ ì™¸ë¶€ DSLì„ ë§Œë“œëŠ” ë„êµ¬ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì–´ ë¹„ìš©ì´ ì¤„ì–´ë“ ë‹¤.
    - ì™¸ë¶€ ë„êµ¬ë¥¼ ë”°ë¡œ ë°°ìš¸ í•„ìš”ê°€ ì—†ë‹¤.
    - IDEì˜ ë§ì€ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆë‹¤. (ìë°”ë¼ëŠ” ì–¸ì–´ê°€ ì—­ì‚¬ì™€ í”Œë«í¼? ì´ ê¹Šê³  í¬ë‹¤. ê·¸ë˜ì„œ ì—¬ëŸ¬ ë„êµ¬ê°€ ì§€ì›ì´ ì˜ëœë‹¤.)
    - ì´ì‹ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.(ìë°”ë¡œ ê°œë°œí•œ ë„ë©”ì¸ì—ì„œ ë‹¤ë¥¸ DSLì´ í•„ìš”í•˜ë‹¤ë©´ ë‹¹ì—°íˆ ìë°”ë¡œ ê°œë°œí•˜ëŠ” ê²ƒì´ ë”ìš± ì´ì‹ì„±ì„ ë†’ì¸ë‹¤.)
- **ì™¸ë¶€ DSL**
    
    í”„ë¡œì íŠ¸ì— DSLì„ ì¶”ê°€í•˜ëŠ” ì„¸ ë²ˆì§¸ ì˜µì…˜ì€ ì™¸ë¶€ DSLì´ë‹¤ ì´ëŠ” ìƒˆë¡­ê²Œ ì²˜ìŒë¶€í„° 1ë¶€í„° 100ê¹Œì§€ ì „ë¶€ ì„¤ê³„í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ê²°ê³¼ì ìœ¼ë¡œ ì–´ë µë‹¤ í•˜ì§€ë§Œ í° ì¥ì ì€ ì™¸ë¶€ DSLì€ ë¬´í•œí•œ ìœ ì—°ì„±ì„ ì œê³µí•œë‹¤ ì´ ìœ ì—°ì„±ì´ ì œê³µë˜ëŠ” ì›ë¦¬ëŠ”  ì œëŒ€ë¡œ ì„¤ê³„ëœ ì™¸ë¶€ DSLì€ ìµœê³ ì˜ ê°€ë…ì„±, ìë°”ë¡œ ê°œë°œëœ ì¸í”„ë¼êµ¬ì¡° ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œë¥¼ ì •ì˜í•œ DSL ì½”ë“œë¥¼ ëª…í™•íˆ ë¶„ë¦¬ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤ ë‹¨ì  ë˜í•œ ì¡´ì¬í•œë‹¤ ê·¸ë§Œí¼ ì¸ê³µì ì¸ ê³„ì¸µì´ ë°œìƒí•¨ìœ¼ë¡œ ì–‘ë‚ ì˜ ê²€ê³¼ ê°™ë‹¤
    
- **ë‹¤ì¤‘ DSL**
    
    ìë°”ëŠ” ë°”ì´íŠ¸ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ JVMì´ ì½”ë“œë¥¼ í•´ì„í•œë‹¤ ê·¸ë˜ì„œ ê°™ì€ ë°”ì´íŠ¸ ì½”ë“œë¡œ í•´ì„ë˜ëŠ” ì–¸ì–´ë¼ë©´ DSLì˜ í•©ì¹¨ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤ ì´ê²ƒì´ ë‹¤ë¥¸ ì–¸ì–´ë¼ë„ ê°™ì€ JVMìœ„ì—ì„œ ë™ì‘ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì›ë¦¬ì´ê³  ë‹¤ì¤‘ DSLì˜ ì‹œì‘ì´ë‹¤ 
    

**ê²°ë¡ **

- DSLì„ ì‚¬ìš©í•¨ìœ¼ë¡œ ì–»ëŠ” ê°€ë…ì„±, ìœ ì—°ì„±, ëª…í™•ì„±ì´ í° ì¥ì ìœ¼ë¡œ ì‘ìš©í•œë‹¤
- DSLì€ ì™¸ë¶€, ë‚´ë¶€, ë‹¤ì¤‘ìœ¼ë¡œ ë¶„ë¥˜ í•  ìˆ˜ ìˆë‹¤
- DSL ë„ë©”ì¸ì „ë¬¸ê°€ì™€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìì˜ ê°„ê·¹ì„ ì¢í˜€ ì¤€ë‹¤
- "í”„ë¡œê·¸ë˜ë¨¸ê°€ ì•„ë‹Œ ì‚¬ëŒë„ ì´í•´í•  ìˆ˜ ìˆì–´ì•¼í•˜ëŠ”ê°€?", "ìœ ì§€ë³´ìˆ˜ê°€ ì§€ì†ì ìœ¼ë¡œ í•„ìš”í•œê°€?", "ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œì— ì§‘ì¤‘í•´ì•¼í•˜ëŠ” ìƒí™©ì¸ê°€?" ì´ê²ƒì´ í•„ìš”í•œ ìƒí™©ì´ë¼ë©´ DSLì„ ì ìš©í•˜ëŠ” ë°©ë²•ë„ ìƒê°í•´ë³¼ ìˆ˜ ìˆë‹¤
- DSLì˜ í•µì‹¬ì€ ê°€ë…ì„±ê³¼ ë¶„ë¦¬ì´ë‹¤

### ìµœì‹  ìë°” APIì˜ ì‘ì€ DSL

ìë°”ì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ì˜ ì¥ì ì„ ì ìš©í•œ ì²« APIëŠ” ë„¤ì´í‹°ë¸Œ ìë°” API ìì‹ ì´ë‹¤ ìë°” 8 ì´ì „ì˜ ë„¤ì´í‹°ë¸Œ ìë°” APIëŠ” ì´ë¯¸ í•œê°œì˜ ì¶”ìƒ ë©”ì„œë“œë¥¼ ê°€ì§„ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°–ê³  ìˆì—ˆë‹¤ í•˜ì§€ë§Œ ë¬´ëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ ì¬ì •ì˜, ìƒì„±ì ì„ ì–¸ ë“± ë¶ˆí•„ìš”í•œ ì¡ìŒì´ ë§ì´ ë°œìƒí–ˆë‹¤ í•˜ì§€ë§Œ ëŒë‹¤ì˜ ì¶”ê°€ì™€ ë©”ì„œë“œ ì°¸ì¡°ê°€ ë“±ì¥í•˜ë©° ìµœì‹  ìë°”ì—ì„  ì¬ì‚¬ìš©ì„±ê³¼ ë©”ì„œë“œ ê²°í•©ë„ë¥¼ ë†’ì˜€ë‹¤

- **ìë°”ì™€ ëŒë‹¤, ë©”ì„œë“œ ì°¸ì¡°ì˜ ì¥ì **
    
    ```java
    List<Integer> list =
                    IntStream.rangeClosed(1,10)
    		                .boxed()
    			              .collect(Collectors.toList());
    
    Collections.sort(list, new Comparator<Integer>() { // ë‚´ë¶€ êµ¬í˜„
        @Override
        public int compare(Integer o1, Integer o2) { // ì½”ë“œ ì¡ìŒ ë°œìƒ
            return o2 - o1;
        }
    });
    
    ...
    Collections.sort(list,(o1, o2) -> o2 -o1); // ì½”ë“œì¡ìŒ ì œê±° ë°©ë²•
    ...
    Collections.sort(list,Comparator.comparing(Integer::intValue).reversed()); // ì½”ë“œ ì¡ìŒ ì œê±° ë°©ë²•
    /* 
    	ìµœì¢… ì¡ìŒì„ ì œê±°í–ˆì„ë•ŒëŠ” ì½ê¸° í¸í•˜ê³  ì˜ë¯¸í•´ì„ì´ ì˜ëœë‹¤. ì´ê²ƒì´ ìë°”ì— ì ìš©ëœ DSL ê´€ì ì´ë‹¤. ì´ë¥¼ í†µí•˜ì—¬ ìš°ë¦¬ëŠ”
    	ìë°”ì— ì‘ì€ ë¶€ë¶„ì´ì§€ë§Œ ìµœì†Œ DSLì„ ê²½í—˜ í•  ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ ì´ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì€ ë§Œì•½ Integerê°€ ì•„ë‹Œ
    	ì‹¤ì œ ë„ë©”ì¸ ê°ì²´? ì˜ˆë¥¼ ë“¤ì–´ íšŒì› ì •ë³´ë¥¼ ì •ë ¬í•´ì•¼í•˜ëŠ” ê²½ìš°? ë¼ë„ ì‰½ê²Œ ê°€ë…ì„± ì¢‹ê²Œ í™œìš© í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.
    */
    
    collect.sort(Comparator.comparing(Customer::getName) // ì´ë¦„ìœ¼ë¡œ ì •ë ¬
    												.reversed() // ì´ë¦„ ì—­ìˆœ ì •ë ¬
    												.thenComparing(Customer::getAge)); // ë‹¤ìŒ ì •ë ¬ì€ ë‚˜ì´ ìˆœì„œ
    System.out.println(collect);
    ```
    
- **ìŠ¤íŠ¸ë¦¼ APIëŠ” ì»¬ë ‰ì…˜ì„ ì¡°ì‘í•˜ëŠ” DSL (ì¡°ì‘)**
    
    ìŠ¤íŠ¸ë¦¼ ì¸í„°í˜ì´ìŠ¤ëŠ” ë„¤ì´í‹°ë¸Œ ìë°” APIì— ì‘ì€ ë‚´ë¶€ DSLì„ ì ìš©í•œ ì¢‹ì€ ì˜ˆì‹œ ì¤‘ í•˜ë‚˜ì´ë‹¤. ìŠ¤íŠ¸ë¦¼ì˜  ì»¬ë ‰ì…˜ì˜ í•­ëª©ì„ í•„í„°, ì •ë ¬, ë³€í™˜, ê·¸ë£¹í™”, ì¡°ì‘í•˜ëŠ” ì‘ì§€ë§Œ ê°•ë ¥í•œ DSLì´ë‹¤.
    
    ```java
    /*
    	ë¡œê·¸ íŒŒì¼ì„ ì½ì–´ ERROR ë¼ëŠ” ë‹¨ì–´ë¡œ ì‹œì‘í•˜ëŠ” íŒŒì¼ì˜ 40 í–‰ì„ ìˆ˜ì§‘í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•
    */
    try {
        List<String> collect = Files.lines(Paths.get("ì˜ˆì‹œ"))
                .filter(line -> line.startsWith("ERROR"))
                .limit(40)
                .collect(Collectors.toList());
    } catch (IOException e) {
        e.printStackTrace();
    }
    
    ...ë§Œì•½ ìŠ¤íŠ¸ë¦¼ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ë©´?
    
    List<String> errors = new ArrayList<>();
    try {
        BufferedReader bufferedReader = new BufferedReader(new FileReader("ì˜ˆì‹œ"));
        String line = bufferedReader.readLine();
        int errorCount = 0;
        while (errorCount < 40 && line != null){
            if (line.startsWith("ERROR")) errors.add(line);
            errorCount++;
            line = bufferedReader.readLine();
        }
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    /*
    	ì°¨ì´ê°€ ëŠê»´ì§„ë‹¤. í™•ì‹¤íˆ DSLì„ ì´ìš©í–ˆì„ë•Œ ëª…ì‹œì ì´ê³  ì •í™•í•œ ì •ë³´ê°€ ëˆˆì— ë³´ì¸ë‹¤. ê·¸ë¦¬ê³  ì¡ìŒì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
    */
    ```
    
    **ê²°ë¡ **
    
    - ìŠ¤íŠ¸ë¦¼ APIëŠ” ì»¬ë ‰ì…˜ì„ ì¡°ì‘í•˜ëŠ” ê°•ë ¥í•œ DSLì´ë‹¤.
    - ì¡°ì‘í•˜ëŠ”ë° ìˆì–´ì„œ ê°€ë…ì„±ë§Œì´ ì•„ë‹ˆë¼ ëª…ì‹œì ì´ê³  íë¦„ì„ ì¡°ê¸ˆ ë” ì‚¬ëŒì˜ ì–¸ì–´ì²˜ëŸ¼ ì´í•´í•  ìˆ˜ ìˆëŠ” ê²ƒ ê°™ë‹¤.
- **ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” DSLì¸ Collectors (ìˆ˜ì§‘)**
    
    streamì¸í„°í˜ì´ìŠ¤ë¥¼ ë°ì´í„° ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°ì‘í•˜ëŠ” DSLë¡œ ê°„ì£¼í•  ìˆ˜ ìˆìŒì„ í™•ì¸í–ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ Collector ì¸í„°í˜ì´ìŠ¤ëŠ” ë°ì´í„° ìˆ˜ì§‘ì„ ìˆ˜í–‰í•˜ëŠ” DSLë¡œ ê°„ì£¼ í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    Map<Integer, List<Integer>> collect = 
    							IntStream.rangeClosed(1, 10)
    							        .boxed()
    							        .collect(groupingBy(
    									                integer -> integer % 2));
    System.out.println(collect);
    ```
    
    - ì•„ì§ì€ ê²°ë¡ ì„ ë‚´ë¦¬ê¸° í˜ë“¤ì–´ ë³´ë¥˜
- **ìë°”ë¡œ DSLì„ ë§Œë“œëŠ” íŒ¨í„´ê³¼ ê¸°ë²•**
    
    DSLì´ ì¢‹ì€ ê²ƒì€ ì•Œì•˜ë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ë„ DSLì„ í•œë²ˆ ë§Œë“¤ì–´ ë³¼ ê²ƒì´ë‹¤.
    
    - ğŸ“ **ë„ë©”ì¸ ëª¨ë¸ ì •ì˜**
        - **Stock**
            
            ```java
            @Getter
            @Setter
            public class Stock {
                private String symbol;
                private String market;
            }
            ```
            
        - **Trade**
            
            ```java
            @Getter
            @Setter
            public class Trade {
                public enum Type{ BUY,SELL}
                private Type type;
            
                private Stock stock;
                private int quantity;
                private double price;
            
                public double getValue(){
                    return quantity * price;
                }
            }
            ```
            
        - **Order**
            
            ```java
            public class Order {
                @Getter @Setter private String customer;
                private List<Trade> trades = new ArrayList<>();
            
                public void addTrade(Trade trade){
                    trades.add(trade);
                }
                
                public double getValue(){
                    return trades.stream().mapToDouble(Trade::getValue).sum();
                }
            
            }
            ```
            
    - ğŸ“ **(ë²ˆì™¸)  ë„ë©”ì¸ ê°ì²´ì˜ APIë¥¼ ì´ìš©í•´ ì£¼ì‹ê±°ë˜ ì£¼ë¬¸ì„ ì§ì ‘ ë§Œë“œëŠ” ë°©ë²• (DSL** âŒ**)**
        
        ì´ê±¸ í†µí•˜ì—¬ ì–»ëŠ” ê²ƒì€ DSLì´ ë¹„ê°œë°œìì™€ ê°œë°œì ì‚¬ì´ì˜ ê°„ê·¹ì„ ì–¼ë§ˆë‚˜ ì¢í˜€ì£¼ëŠ”ì§€ ì´ë‹¤.
        
        ```java
        public static void main(String[] args) {
                Order order = new Order();
                order.setCustomer("BigBank");
        
                Trade trade1 = new Trade();
                trade1.setType(Trade.Type.BUY);
        
                Stock stock1 = new Stock();
                stock1.setSymbol("IBM");
                stock1.setMarket("NYSE");
        
                trade1.setStock(stock1);
                trade1.setPrice(125.00);
                trade1.setQuantity(80);
                order.addTrade(trade1);
        
                Trade trade2 = new Trade();
                trade2.setType(Trade.Type.SELL);
        
                Stock stock2 = new Stock();
                stock2.setSymbol("GOOGLE");
                stock2.setMarket("NASDAQ");
        
                trade2.setStock(stock2);
                trade2.setPrice(375.00);
                trade2.setQuantity(50);
        	      order.addTrade(trade2);
        }
        ```
        
        ğŸ¤® **í† í•  ê²ƒ ê°™ë‹¤.** ë„ˆë¬´ ê¸¸ë‹¤. ê·¸ë¦¬ê³  ë¹„ê°œë°œìì¸ ë„ë©”ì¸ ì „ë¬¸ê°€ê°€ ìœ„ì˜ ì½”ë“œë¥¼ ì´í•´í•˜ê³  ê²€ì¦í•˜ê¸°ë¥¼ ê¸°ëŒ€í•  ìˆ˜ ì—†ë‹¤. ê·¸ë ‡ê¸°ì— ìš°ë¦¬ì—ê² ê°€ë…ì„± ì¢‹ê³  ì§ê´€ì ìœ¼ë¡œ ë„ë©”ì¸ ëª¨ë¸ì„ ì ìš©í•  ìˆ˜ ìˆì–´ì•¼í•˜ëŠ” ê²ƒì´ë‹¤. (ì†”ì§íˆ ë¹„ê°œë°œìê°€ ì•„ë‹ˆë¼ ê°œë°œìê°€ ë´ë„ í•œë²ˆì— ë”±ë”± ì½ê¸°ì—” ìƒë‹¹íˆ **ê·€ì°®ì€ ì–‘**ì´ë‹¤.)
        
    - ğŸ“ **ë„ë©”ì¸ ëª¨ë¸ì„ í™œìš©í•œ DSL (ë©”ì„œë“œ ì²´ì¸ ë°©ì‹)**
        
        <aside>
        â“ ì£¼ì‹ê±°ë˜ë¥¼ ë˜‘ê°™ì´ ë©”ì„œë“œ ì²´ì¸ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ë³¼ ê²ƒì´ë‹¤. ì‚¬ì‹¤ í•„ìë„ ì£¼ì‹ì—ëŠ” ë¬´ì§€í•˜ë‹¤. ê·¸ë˜ì„œ ë­”ì§€ ì˜ëª°ë¼ì„œ ì‚¬ê³  íŒ”ê³  í•˜ëŠ” ê±¸ êµ¬í˜„í•œë‹¤ê³  ìƒê°í•´ë³´ë©´ í¸í•  ê²ƒì´ë‹¤. (ì‚¬ì‹¤ ìŠ¤í†¡, íŠ¸ë ˆì´ë“œ ë­ ì´ëŸ° ìš©ì–´ê°€ ìµìˆ™í•˜ì§€ ì•Šë‹¤.)
        
        </aside>
        
        **ìµœì¢… ëª©í‘œ**
        
        ```java
        Order order = forCustomer("BigBank")
        					.buy(80)
        					.stock("IBM")
        					.on("NYSE")
        					.at(125.00)
        					.sell(50)
        					.stock("GOOGLE")
        					.on("NASDAQ")
        					.at(375.00)
        					.end();
        /*
        	ì •ë§ì •ë§ ë³´ê¸° í¸í•˜ë‹¤. ì†”ì§íˆ ë¹„ê°œë°œìê°€ ë´ë„ ì•Œì•„ë³¼ ìˆ˜ ìˆì„ ì •ë„ë¡œ ì§ê´€ì ì´ë‹¤.
        */
        ```
        
        - ğŸ” **êµ¬í˜„**
            - **MethodChainingOrderBuilder**
                
                ```java
                public class MethodChainingOrderBuilder {
                
                    public final Order order = new Order();
                
                    private MethodChainingOrderBuilder(String customer) {
                        order.setCustomer(customer);
                    }
                
                    public static MethodChainingOrderBuilder forCustomer(String customer){
                        return new MethodChainingOrderBuilder(customer);
                    }
                
                    public TradeBuilder buy(int quantity){
                        return new TradeBuilder(this, Trade.Type.BUY,quantity);
                    }
                    public TradeBuilder sell(int quantity){
                        return new TradeBuilder(this, Trade.Type.SELL,quantity);
                    }
                    public MethodChainingOrderBuilder addTrade(Trade trade){
                        order.addTrade(trade);
                        return this;
                    }
                    public Order order(){
                        return order;
                    }
                    
                }
                ```
                
            - **TradeBuilder**
                
                ```java
                public class TradeBuilder {
                    private final MethodChainingOrderBuilder methodChainingOrderBuilder;
                    private final Trade trade = new Trade();
                
                    public TradeBuilder(MethodChainingOrderBuilder methodChainingOrderBuilder, Trade.Type type, int quantity) {
                        this.methodChainingOrderBuilder = methodChainingOrderBuilder;
                        trade.setType(type);
                        trade.setQuantity(quantity);
                    }
                
                    public StockBuilder stock(String symbol){
                        return new StockBuilder(methodChainingOrderBuilder, trade, symbol);
                    }
                }
                ```
                
            - **StockBuilder**
                
                ```java
                public class StockBuilder {
                    private final MethodChainingOrderBuilder methodChainingOrderBuilder;
                    private final Trade trade;
                    private final Stock stock = new Stock();
                
                    public StockBuilder(MethodChainingOrderBuilder methodChainingOrderBuilder, Trade trade, String symbol) {
                        this.methodChainingOrderBuilder = methodChainingOrderBuilder;
                        this.trade = trade;
                        stock.setSymbol(symbol);
                    }
                
                    public TradeBuilderWithStock on(String market){
                        stock.setMarket(market);
                        trade.setStock(stock);
                        return new TradeBuilderWithStock(methodChainingOrderBuilder,trade);
                    }
                }
                ```
                
            - **TradeBuilderWithStock**
                
                ```java
                public class TradeBuilderWithStock {
                    private final MethodChainingOrderBuilder methodChainingOrderBuilder;
                    private final Trade trade;
                
                    public TradeBuilderWithStock(MethodChainingOrderBuilder methodChainingOrderBuilder, Trade trade) {
                        this.methodChainingOrderBuilder = methodChainingOrderBuilder;
                        this.trade = trade;
                    }
                
                    public MethodChainingOrderBuilder at(double price){
                        trade.setPrice(price);
                        return methodChainingOrderBuilder.addTrade(trade);
                    }
                }
                ```
                
        
        <aside>
        â‰ï¸ ì—¬ê¸°ì„œ ìƒê¸°ëŠ” ì˜ë¬¸ ë¹Œë”ì™€ ë„ë©”ì¸ì„ ë‚˜ëˆ ì„œ ìƒê°í• ê²Œ ì•„ë‹ˆë¼ ë„ë©”ì¸ì„ ë¹Œë”ë¡œ ë§Œë“¤ë©´ ë˜ëŠ”ê±° ì•„ë‹Œê°€? ì•„ë‹ˆë©´ ë„ë©”ì¸ ì•ˆì—ì„œ ë¹Œë”ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?
        
        </aside>
        
        **ê²°ë¡ **
        
        - ì˜ˆì œë¥¼ í”Œë£¨ì–¸íŠ¸ ë°©ì‹ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
        - ë©”ì„œë“œ ì²´ì¸ ë°©ì‹ì€ ë¯¸ë¦¬ ì§€ì •ëœ ì ˆì°¨ì— ë”°ë¼ í”Œë£¨ì–¸íŠ¸ APIì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë„ë¡ ê°•ì œí•œë‹¤.
        - ì •ì  ë©”ì„œë“œ ì‚¬ìš©ì„ ìµœì†Œí™”í•˜ê³  ë©”ì„œë“œ ì´ë¦„ì´ ì¸ìˆ˜ì˜ ì´ë¦„ì„ ëŒ€ì‹ (buy(), sell() ê³¼ ê°™ì€)í•˜ë„ë¡ í•˜ë©´ì„œ DSLì˜ ê°€ë…ì„±ì„ ê°œì„ í•˜ëŠ” íš¨ê³¼ë¥¼ ë”í•œë‹¤.
    - ğŸ“ **ë„ë©”ì¸ ëª¨ë¸ì„ í™œìš©í•œ DSL (ì¤‘ì²©ëœ í•¨ìˆ˜ ì´ìš© ë°©ì‹)**
        
        ê°™ì€ ì˜ˆì œë¥¼ ê°€ì§€ê³  í•´ë³¼ ê²ƒì´ë‹¤.
        
        **ìµœì¢… ëª©í‘œ**
        
        ```java
        Order orderMadeByNestedFunction = 
        								order(
                            "BigBank",
                            buy(80, stock("IBM", on("NYSE")), at(125.00)),
                            sell(50, stock("GOOGLE", on("NASDAQ")), at(375.00))
                        );
        ```
        
        - ğŸ” **êµ¬í˜„**
            
            ```java
            public class NestedFunctionOrderBuilder {
            
                public static Order order(String customer, Trade... trades){
                    Order order = new Order();
                    order.setCustomer(customer);
                    Stream.of(trades).forEach(order::addTrade);
                    return order;
                }
            
                public static Trade buy(int quantity, Stock stock, double price){
                    return buildTrade(quantity,stock,price, Trade.Type.BUY);
                }
            
                public static Trade sell(int quantity, Stock stock, double price){
                    return buildTrade(quantity,stock,price, Trade.Type.SELL);
                }
            
                public static Trade buildTrade(int quantity, Stock stock, double price, Trade.Type type){
                    Trade trade = new Trade();
                    trade.setQuantity(quantity);
                    trade.setStock(stock);
                    trade.setPrice(price);
                    trade.setType(type);
                    return trade;
                }
                public static double at(double price){
                    return price;
                }
            
                public static Stock stock(String Symbol, String market){
                    Stock stock = new Stock();
                    stock.setSymbol(Symbol);
                    stock.setMarket(market);
                    return stock;
                }
            
                public static String on(String market){
                    return market;
                }
            
            }
            ```
            
        
        **ê²°ë¡ **
        
        - ë©”ì„œë“œ ì²´ì¸ì— ë¹„í•´ í•¨ìˆ˜ì˜ ì¤‘ì²© ë°©ì‹ì´ ë„ë©”ì¸ ê°ì²´ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ ê·¸ëŒ€ë¡œ ë°˜ì˜í•œë‹¤.
        - ê´„í˜¸ë¥¼ ë§ì´ ì‚¬ìš©í•œë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•œë‹¤
    
    <aside>
    â‰ï¸ ì—¬ê¸°ì„œ ì¤‘ê°„ ì ê²€ **ë©”ì„œë“œ ì²´ì¸, ì¤‘ì²© í•¨ìˆ˜**ëŠ” ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ì‹ì´ë‹¤.
    
    </aside>
    
    - ğŸ“ **ë„ë©”ì¸ ëª¨ë¸ì„ í™œìš©í•œ DSL (ëŒë‹¤ í‘œí˜„ì‹ì„ ì´ìš©í•œ í•¨ìˆ˜ ì‹œí€€ì‹±)**
        
        ì´ì œ ë¶€í„°ëŠ” ëŒë‹¤ë¥¼ ì´ìš©í•˜ì—¬ DSLì„ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¸ë‹¤.
        
        **ìµœì¢… ëª©í‘œ**
        
        ```java
        Order orderMadeByFunctional =
                        LambdaOrderBuilder.order(o -> {
                            o.forCustomer("BigBank");
                            o.buy(t -> {
                                t.quantity(80);
                                t.price(125.00);
                                t.stock(s -> {
                                    s.symbol("IBM");
                                    s.market("NYSE");
                                });
                            });
                            o.sell(t -> {
                                t.quantity(50);
                                t.price(375.00);
                                t.stock(s -> {
                                    s.symbol("GOOGLE");
                                    s.market("NASDAQ");
                                });
                            });
                        });
        ```
        
        - ğŸ” **êµ¬í˜„**
            
            ```java
            public class LambdaOrderBuilder {
            
                private Order order = new Order();
            
                public static Order order(Consumer<LambdaOrderBuilder> consumer){
                    LambdaOrderBuilder builder = new LambdaOrderBuilder();
                    consumer.accept(builder);
                    return builder.order;
                }
            
                public void forCustomer(String customer){
                    order.setCustomer(customer);
                }
            
                public void buy(Consumer<TradeBuilder> consumer){
                    trade(consumer, Trade.Type.BUY);
                }
            
                public void sell(Consumer<TradeBuilder> consumer){
                    trade(consumer, Trade.Type.SELL);
                }
            
                private void trade(Consumer<TradeBuilder> consumer, Trade.Type type) {
                    TradeBuilder builder = new TradeBuilder();
                    consumer.accept(builder);
                    order.addTrade(builder.trade);
            
                }
            }
            ...
            public class TradeBuilder {
            
                Trade trade = new Trade();
            
                public void quantity(int quantity){
                    trade.setQuantity(quantity);
                }
            
                public void price(double price){
                    trade.setPrice(price);
                }
            
                public void stock(Consumer<StockBuilder> consumer){
                    StockBuilder stockBuilder = new StockBuilder();
                    consumer.accept(stockBuilder);
                    trade.setStock(stockBuilder.stock); // 1
                }
            }
            ...
            public class StockBuilder {
            
                Stock stock = new Stock(); // 2
                
                public void symbol(String symbol){
                    stock.setSymbol(symbol);
                }
                
                public void market(String market){
                    stock.setMarket(market);
                }
            }
            /*
            	ì±…ì„ ë³´ê³  í•˜ë˜ì¤‘ ì´ìƒí•œ êµ¬ë¬¸ì„ ë°œê²¬í–ˆë‹¤. ìœ„ì˜ í´ë˜ìŠ¤ë“¤ì€ ëª¨ë‘ ë¶„ë¦¬ë˜ì–´ ìˆë‹¤. ê·¼ë° 1ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯
            	ì§ì ‘ stock ì„ ê°€ì ¸ë‹¤ê°€ ì‚¬ìš©í•œë‹¤. ê·¸ëŸ°ë° StockBuilderì˜ ë©¤ë²„ë³€ìˆ˜ stockì€ privateë¡œ ë˜ì–´ ìˆì—ˆê³  getê³¼
            	ê°™ì€ stockì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œê°€ ì¡´ì¬í•˜ì§€ ì•Šì•˜ë‹¤. ê·¸ë˜ì„œ ì°¸ì¡°ê°€ ë˜ì§€ ì•Šì•„ "ë­ì§€?"ë¼ëŠ” ìƒê°ì„ í–ˆë‹¤. ê·¸ë˜ì„œ
            	ì ‘ê·¼ ì œì–´ìë¥¼ defaultë¡œ ë°”ê¾¸ì–´ í•œ íŒ¨í‚¤ì§€ì•ˆì— ë„£ì—ˆë‹¤. ê·¸ëŸ¼ íŒ¨í‚¤ì§€ ë‚´ë¶€ì—ì„œëŠ” ì°¸ì¡°ê°€ ë˜ê³  íŒ¨í‚¤ì§€ ë°–ì˜ í´ë˜ìŠ¤ë“¤ì€
            	ì°¸ì¡°í•  ìˆ˜ ì—†ê¸°ë•Œë¬¸ì´ë‹¤. ì•„ë‹ˆë©´ getê³¼ ê°™ì€ ë©”ì„œë“œë¥¼ ì´ìš©í•´ë„ ëœë‹¤. í•˜ì§€ë§Œ ì–´ë–¤ ê²ƒì´ ë” ë§ëŠ” ë°©ë²•ì¸ì§€ëŠ” ëª¨ë¥´ì§€ë§Œ
            	ì±…ì´ ì¡°ê¸ˆ ì˜ëª»ëœ ê²ƒ ê°™ë‹¤. ìœ ì˜í•˜ì
            */
            ```
            
        
        **ê²°ë¡ **
        
        - ë©”ì„œë“œ ì²´ì¸ì˜ í”Œë£¨ì–¸íŠ¸ ë°©ì‹ê³¼ ê°™ì´ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
        - ì¤‘ì²© í•¨ìˆ˜ í˜•ì‹ì²˜ëŸ¼ ëŒë‹¤ í‘œí˜„ì‹ì˜ ì¤‘ì²© ìˆ˜ì¤€ê³¼ë„ ë¹„ìŠ·í•˜ê²Œ ë„ë©”ì¸ ê°ì²´ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
        - ë‹¨ì ìœ¼ë¡œëŠ” ì„¤ì • ì½”ë“œê°€ ë§ì´ í•„ìš”í•˜ë©° DSLìì²´ê°€ ëŒë‹¤ í‘œí˜„ì‹ ë¬¸ë²•ì— ì˜í•œ ì¡ìŒì˜ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.
    - ğŸ“ **ë„ë©”ì¸ ëª¨ë¸ì„ í™œìš©í•œ DSL (ëª¨ë“  ë°©ì‹ ì¡°í•©)**
        
        ì§€ê¸ˆê¹Œì§€ 3ê°€ì§€ì˜ íŒ¨í„´ì„ ì‚´í´ë³´ì•˜ë‹¤. ê°ê°ì˜ ì¥ì ê³¼ ë‹¨ì ì´ ì¡´ì¬í–ˆê³  ë­˜ì¨ì•¼í• ì§€ ê°ì´ ì•ˆì˜¨ë‹¤. í•˜ì§€ë§Œ í•œ DSLì— í•œê°€ì§€ë§Œ ì¨ë¼ëŠ” ë²•ì€ ì—†ë‹¤. ìš°ë¦¬ëŠ” 3ê°€ì§€ë¥¼ ë‹¤ ì„ì–´ ë³¼ ê²ƒì´ë‹¤.
        
        **ìµœì¢… ëª©í‘œ**
        
        ```java
        Order order = forCustomer("BigBank",
                        buy(t -> t.quantity(80).stock("IBM").on("NYSE").at(125.00)),
                        sell(t -> t.quantity(50).stock("GOOGLE").on("NASDAQ").at(370.00))
                );
        ```
        
        - ğŸ” **êµ¬í˜„**
            
            ```java
            public class MixedBuilder {
            
                public static Order forCustomer(String customer, TradeBuilder... tradeBuilders){
                    Order order = new Order();
                    order.setCustomer(customer);
                    Stream.of(tradeBuilders).forEach(d -> order.addTrade(d.trade));
                    return order;
                }
            
                public static TradeBuilder buy(Consumer<TradeBuilder> consumer){
                    return builderTrade(consumer,Trade.Type.BUY);
                }
            
                public static TradeBuilder sell(Consumer<TradeBuilder> consumer){
                    return builderTrade(consumer,Trade.Type.SELL);
                }
            
                private static TradeBuilder builderTrade(Consumer<TradeBuilder> consumer, Trade.Type type) {
                    TradeBuilder builder = new TradeBuilder();
                    builder.trade.setType(type);
                    consumer.accept(builder);
                    return builder;
                }
            }
            
            ...
            public class TradeBuilder {
                Trade trade = new Trade();
            
                public TradeBuilder quantity(int quantity){
                    trade.setQuantity(quantity);
                    return this;
                }
            
                public TradeBuilder at(double price){
                    trade.setPrice(price);
                    return this;
                }
            
                public StockBuilder stock(String symbol){
                    return new StockBuilder(this, trade, symbol);
                }
            }
            
            ...
            public class StockBuilder {
                
                private final TradeBuilder builder;
                private final Trade trade;
                private final Stock stock = new Stock();
            
                public StockBuilder(TradeBuilder builder, Trade trade, String symbol) {
                    this.builder = builder;
                    this.trade = trade;
                    stock.setSymbol(symbol);
                }
            
                public TradeBuilder on(String market){
                    stock.setMarket(market);
                    trade.setStock(stock);
                    return builder;
                }
            
            }
            ```
            
        
        **ê²°ë¡ **
        
        - 3ê°€ì§€ì˜ DSLì„ í˜¼ìš©í•´ì„œ ê°€ë…ì„± ì‡ëŠ” DSLì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
        - í•œê°€ì§€ ê¸°ë²•ë§Œ ì ìš©í•œ DSLì— ë¹„í•´ í•™ìŠµ ê³¡ì„ ì´ í¬ë‹¤.
        - ì´ë³´ë‹¤ ë” ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆëŠ” ë°©ì‹ì€ ë©”ì„œë“œ ì°¸ì¡°ë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤.
- **DSLì— ë©”ì„œë“œ ì°¸ì¡° ì‚¬ìš©í•˜ê¸°**
    
    <aside>
    ğŸ™„ ìš°ë¦¬ëŠ” ë©”ì„œë“œ ì°¸ì¡°ê°€ ë” ë†’ì€ ê°€ë…ì„±ì„ ì œê³µí•´ì¤€ë‹¤ëŠ” ê²ƒì„ ì´ë¯¸ ì•Œê³  ìˆë‹¤. ê·¸ëŸ°ë° DSLì—ì„œ ë©”ì„œë“œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë”ë”ë”ë”ë”ë”ë”ë” ë†’ì€ ê°€ë…ì„±ì„ ì œê³µí•´ì£¼ì§€ ì•Šì„ê¹Œ? ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ë©”ì„œë“œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì„ ë°°ì›Œë³¸ë‹¤. ì‹¤ì œë¡œ ì ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì€ ì˜ˆì œë¡œ ì¡°ê¸ˆ ë°”ê¾¸ì–´ë³´ì•˜ë‹¤.
    
    </aside>
    
    **ì˜ˆì œ ê°ì²´**
    
    ```java
    @Getter
    @Setter
    @AllArgsConstructor
    public class Product{
        double price;
    }
    ```
    
    - ğŸ“ **(ì¢‹ì§€ ëª»í•œ ì˜ˆ**ğŸ¤¦â€â™‚ï¸**) ë¶ˆë¦¬ì–¸ í”Œë˜ê·¸ ì§‘í•©ì„ ì´ìš©í•œ í• ì¸ ì ìš©**
        
        ```java
        public static void main(String[] args) {
                Product product = new Product(10000);
                double v = Discount.DiscountCalculate(product, true, true, false);
        }
        ... 
        class Discount{
        
            public static double DiscountCalculate(Product product, boolean isMember,
                                                   boolean isCoupon, boolean isSpecialDiscount){
        				double value = product.getPrice();
                if (isMember) value = value - memberDiscount(value);
                if (isCoupon) value = value - couponDiscount(value);
                if (isSpecialDiscount) value = value - specialDiscount(value);
                return value;
        
            }
            public static double memberDiscount(double value) {
                return value * 0.1;
            }
        
            public static double couponDiscount(double value){
                return value * 0.2;
            }
        
            public static double specialDiscount(double value){
                return value * 0.3;
            }
        
        }
        result
        7200.0
        ```
        
        **ê²°ë¡ **
        
        - ê°€ë…ì„± ë¬¸ì œê°€ ë“¤ì–´ë‚œë‹¤. ë©”ì¸ì—ì„œ ì‚¬ìš©í• ë•Œ true, true, falseë¥¼ ë³´ë©´ ì €ê²Œ ë¬´ìŠ¨ì˜ë¯¸ì¸ì§€ ì•Œê¸° ì‰½ì§€ ì•Šì„ ê²ƒì´ë‹¤.
        - ì ìš©ë˜ì—ˆëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ íŒŒì•…í•˜ê¸° í˜ë“¤ë‹¤. ë‚´ë¶€ì— í”Œë˜ê·¸ê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì–´ë–¤ ê²ƒì´ ì ìš©ëœ í• ì¸ì¸ì§€ ì•Œê¸° ì–´ë µë‹¤.
    - **ğŸ“ (ì¡°ê¸ˆ ë” ìœ ì°½í•œ ë²„ì „ğŸ¤) í”Œë˜ê·¸ë¥¼ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì ìš©í•œ í• ì¸**
        
        ```java
        public static void main(String[] args) {
            Product product = new Product(10000);
            double v = new Discount()
        										.withMemberDiscount()
        				            .withCouponDiscountProduct()
        				            .DiscountCalculate(product);
            System.out.println(v);
        }
        ...
        public class Discount {
            private boolean isMember;
            private boolean isCoupon;
            private boolean isSpecialDiscount;
        
            public Discount withMemberDiscount() {
                this.isMember = true;
                return this;
            }
        
            public Discount withCouponDiscountProduct() {
                this.isCoupon = true;
                return this;
            }
        
            public Discount withSpecialDiscountProduct() {
                this.isSpecialDiscount = true;
                return this;
            }
        
            public double DiscountCalculate(Product product) {
                return DiscountCalculate(product, isMember, isCoupon, isSpecialDiscount);
            }
        
            private double DiscountCalculate(Product product, boolean isMember,
                                             boolean isCoupon, boolean isSpecialDiscount) {
                double value = product.getPrice();
                if (isMember) value = value - memberDiscount(value);
                if (isCoupon) value = value - couponDiscount(value);
                if (isSpecialDiscount) value = value - specialDiscount(value);
                return value;
        
            }
        
            private double memberDiscount(double value) {
                return value * 0.1;
            }
        
            private double couponDiscount(double value) {
                return value * 0.2;
            }
        
            private double specialDiscount(double value) {
                return value * 0.3;
            }
        }
        ```
        
        **ê²°ë¡ **
        
        - ì¢€ ë” ëª…í™•í•˜ê²Œ ì–´ë–¤ í• ì¸ì´ ì ìš©ëœì§€ íŒŒì•… í•  ìˆ˜ ìˆë‹¤.
        - ê°€ë…ì„±ë„ ì¢‹ì•„ì§„ë‹¤.
        - ë‹¨ì ìœ¼ë¡œëŠ” ì¥í™©í•œ ì½”ë“œì´ë‹¤. ì–´ì¨‹ë“  ë¶ˆë¦¬ì–¸ í”Œë˜ê·¸ëŠ” ì‚¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤. ê²°ë¡ ì ìœ¼ë¡œ ì¥í™©í•œ if ë¬¸ì„ ì¤„ì¤„ì¤„ ì ì–´ì•¼í•œë‹¤. ì´ëŸ¬í•œ ë‹¨ì ì€ í™•ì¥ì„±ì—ë„ ì˜í–¥ì„ ì¤€ë‹¤. if ë¶„ê¸°ëŠ” Discount í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì •ì˜í•´ì•¼í•œë‹¤. ì´ë¡œì¸í•˜ì—¬ í™•ì¥ì„±ì˜ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.
    - ğŸ“ **(ìœ ì°½í•˜ê²Œ í•´ë³´ì** ğŸ‘ğŸ»**) ìœ ì°½í•œ í• ì¸ ì ìš© ë²„ì „**
        
        ```java
        public static void main(String[] args) {
            Product product = new Product(10000);
            Discount discount = new Discount();
            double v = new Discount()
                    .with(Discount::memberDiscount)
                    .with(Discount::couponDiscount)
                    .DiscountCalculate(product);
            System.out.println(v);
        }
        
        ...
        public class Discount {
            public DoubleUnaryOperator discountFunction = d -> d;
        
            public Discount with(DoubleUnaryOperator doubleUnaryOperator){
                this.discountFunction =discountFunction.andThen(doubleUnaryOperator);
                return this;
            }
        
            public double DiscountCalculate(Product product) {
                return  discountFunction.applyAsDouble(product.getPrice());
            }
        
            public static double memberDiscount(double value) {
                return value - (value * 0.1);
            }
        
            public static double couponDiscount(double value) {
                return value - (value * 0.2);
            }
        
            public static double specialDiscount(double value) {
                return value - (value * 0.3);
            }
        }
        
        ```
        
        **ê²°ë¡ **
        
        - í›¨ì”¬ í™•ì¥ì„±ì´ ì¢‹ë‹¤. ë§Œì•½ static ë©”ì„œë“œë§Œ ì¡´ì¬í•˜ê³  í•¨ìˆ˜ì˜ ì‹œê·¸ë‹ˆì²˜ê°€ DoubleUnaryOperatorì™€ ë™ì¼í•˜ë‹¤ë©´ with()ì„ í†µí•˜ì—¬ ì²´ì´ë‹ì´ ê°€ëŠ¥í•´ì§„ë‹¤.
        - **í™•ì¥ì„± ì˜ˆì‹œ** ğŸ”
            
            ```java
            public static void main(String[] args) {
                Product product = new Product(10000);
                Discount discount = new Discount();
                double v = new Discount()
                        .with(Discount::memberDiscount)
                        .with(Discount::couponDiscount)
                        .with(OtherClass::eventDiscount) // í•˜ì§€ë§Œ ê°™ì´ ì‚¬ìš©ê°€ëŠ¥
                        .DiscountCalculate(product);
                System.out.println(v);
            }
            
            public static double eventDiscount(double value){ // Discount classì™€ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ì •ì˜
                return value - (value * 0.5);
            }
            ```
            
        - í•˜ì§€ë§Œ ìƒê°í•´ë³¼ ìˆ˜ ìˆëŠ” ë‹¨ì ì€ ê³¼ì—° static ë©”ì„œë“œê°€ ëŠ˜ì–´ë‚˜ëŠ” ê²ƒì´ ì˜³ì„ì§€ì— ëŒ€í•œ ì˜ë¬¸ì€ ê°€ì§€ê³  ìˆë‹¤.

**ê²°ë¡ **

- DSL ì€ ê²°êµ­ ë„ë©”ì¸ ì „ë¬¸ê°€ì™€ ê°œë°œìì˜ ê°„ê²©ì„ ì¢íˆê¸° ìœ„í•´ íƒ„ìƒí–ˆë‹¤ ê²°êµ­ ê°œë°œìê°€ ì•„ë‹Œ ì‚¬ëŒë„ ì´í•´í•  ìˆ˜ ìˆëŠ” ì–¸ì–´ë¡œ ì´ëŸ° ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤ê³  í•´ì„œ ë„ë©”ì¸ì „ë¬¸ê°€ê°€ í”„ë¡œê·¸ë˜ë¨¸ê°€ ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤ í•˜ì§€ë§Œ ë¡œì§ì„ ì½ê³  ê²€ì¦í•˜ëŠ” ì—­í• ì€ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤
- DSLì€ í¬ê²Œ ë‚´ë¶€ì (ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•œ ì–¸ì–´ë¥¼ ê·¸ëŒ€ë¡œ í™œìš©í•œ ê²ƒ, ìš°ë¦¬ì˜ ìë°” APIì™€ ë¹„ìŠ·í•¨) DSLê³¼ ì™¸ë¶€ì (ì§ì ‘ ì–¸ì–´ë¥¼ ì„¤ê³„í•¨, ìš°ë¦¬ê°€ ë§Œë“  ê²ƒ ê°™ì€ ì‚¬ìš© ì½”ë“œ) DSLë¡œ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤
- ìë°”ì™€ ê°™ì€ ë¬¸ë²•ì˜ ì—„ê²©í•¨ì„ ê°€ì§„ ì–¸ì–´ëŠ” DSLê°œë°œ ì–¸ì–´ë¡œ ì í•©í•˜ì§€ ì•Šë‹¤ í•˜ì§€ë§Œ ëŒë‹¤ì™€ ë©”ì„œë“œ ì°¸ì¡° ë•ë¶„ì— ê°œë°œ í™˜ê²½ì´ ë§ì´ ê°œì„ ë˜ì—ˆë‹¤
- ìµœì‹  ìë°”ëŠ” ìì²´ APIì— ì‘ì€ DSLì„ ì œê³µí•œë‹¤ ì´ë“¤ Stream, Collectors í´ë˜ìŠ¤ ë“±ì—ì„œ ì œê³µí•˜ëŠ” ì‘ì€ DSLì€ íŠ¹íˆ ì»¬ë ‰ì…˜ ë°ì´í„°ì˜ ì •ë ¬, í•„í„°ë§, ê·¸ë£¹í™”, ë³€í™˜ì— ìœ ìš©í•˜ë‹¤
